#!/usr/bin/env php
<?php

require __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Application;
use WPPluginModernizer\Modernize\Commands\RebrandCommand;
use WPPluginModernizer\Modernize\Commands\CreateAPIRoutesCommand;
use WPPluginModernizer\Modernize\Commands\CreateGutenbergBlockCommand;
use WPPluginModernizer\Modernize\Commands\CreateServiceCommand;
use WPPluginModernizer\Modernize\Commands\ListCommands;

$application = new Application('WPPluginModernizer', '1.0');

// Modernize commands
$application->add(new RebrandCommand());
$application->add(new CreateServiceCommand());
$application->add(new CreateAPIRoutesCommand());
$application->add(new CreateGutenbergBlockCommand());
$listCommands = new ListCommands();
$application->add($listCommands);

// Check if additional arguments are provided
if ($argc === 1) {
    // No additional arguments, set 'list-commands' as default command
    $application->setDefaultCommand($listCommands->getName(), true);
}


$application->run();
