#!/usr/bin/env php
<?php

require __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Application;
use WPModernPlugin\Modernize\CreateServiceCommand;
use WPModernPlugin\Modernize\CreateAPIRoutesCommand;
use WPModernPlugin\Modernize\CreateGutenbergBlockCommand;
use WPModernPlugin\Modernize\ListCommands;

$application = new Application();

// Modernize commands
$application->add(new CreateServiceCommand());
$application->add(new CreateAPIRoutesCommand());
$application->add(new CreateGutenbergBlockCommand());
$listCommands = new ListCommands();
$application->add($listCommands);

// Check if additional arguments are provided
if ($argc === 1) {
    // No additional arguments, set 'list-commands' as default command
    $application->setDefaultCommand($listCommands->getName(), true);
}


$application->run();
